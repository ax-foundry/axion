
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A modular evaluation framework for AI agents">
      
      
      
      
        <link rel="prev" href="../../../metric-registry/tool/tool_correctness/">
      
      
        <link rel="next" href="../yaml-metrics/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/ax_icon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Creating Custom Metrics - Axion</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    

<!-- Ensure proper mobile viewport scaling -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<meta name="format-detection" content="telephone=no">

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-custom-metrics" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
<div class="announcement-banner" id="announcement-banner">
  <span>Axion is beta. Under active development!</span>
  <a href="https://github.com/ax-foundry/axion">View on GitHub &rarr;</a>
  <button class="close-btn" onclick="dismissBanner()" aria-label="Dismiss">&times;</button>
</div>
<script>
  // Check if banner was previously dismissed
  if (localStorage.getItem('axion-banner-dismissed') === 'true') {
    document.getElementById('announcement-banner').classList.add('hidden');
  }

  function dismissBanner() {
    document.getElementById('announcement-banner').classList.add('hidden');
    localStorage.setItem('axion-banner-dismissed', 'true');
  }
</script>

          </div>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Axion" class="md-header__button md-logo" aria-label="Axion" data-md-component="logo">
      
  <img src="../../../assets/ax_icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Axion
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Creating Custom Metrics
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ax-foundry/axion" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../getting-started/installation/" class="md-tabs__link">
          
  
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../guides/hierarchical-scoring/" class="md-tabs__link">
          
  
  
    
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../metric-registry/composite/" class="md-tabs__link">
          
  
  
    
  
  Metric Registry

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
    
  
  Deep Dives

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../reference/dataset/" class="md-tabs__link">
          
  
  
    
  
  Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Axion" class="md-nav__button md-logo" aria-label="Axion" data-md-component="logo">
      
  <img src="../../../assets/ax_icon.png" alt="logo">

    </a>
    Axion
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ax-foundry/axion" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../evaluation_flywheel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluation Flywheel
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agent_playbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Evaluation Playbook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/hierarchical-scoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hierarchical Scoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Working with Datasets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metrics & Evaluation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running Evaluations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/issue-extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Issue Extraction & Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/aligneval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AlignEval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Langfuse
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Langfuse
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/langfuse/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/langfuse/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/langfuse/tracing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tracing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/langfuse/publishing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Publishing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/llm-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LLM Providers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/synthetic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Synthetic Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search Integrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Metric Registry
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Metric Registry
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../metric-registry/composite/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Composite
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Composite
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/faithfulness/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Faithfulness
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/answer_relevancy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Answer Relevancy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/factual_accuracy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Factual Accuracy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/answer_completeness/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Answer Completeness
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/answer_criteria/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Answer Criteria
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/tone_style_consistency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tone & Style Consistency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/citation_relevancy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Citation Relevancy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/pii_leakage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PII Leakage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/contextual_relevancy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contextual Relevancy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/contextual_recall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contextual Recall
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/contextual_precision/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contextual Precision
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/contextual_ranking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contextual Ranking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/contextual_sufficiency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contextual Sufficiency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/composite/contextual_utilization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contextual Utilization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../metric-registry/heuristic/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Heuristic
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Heuristic
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/heuristic/exact_string_match/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exact String Match
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/heuristic/contains_match/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contains Match
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/heuristic/levenshtein_ratio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Levenshtein Ratio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/heuristic/sentence_bleu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sentence BLEU
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/heuristic/pii_leakage_heuristic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PII Leakage (Heuristic)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/heuristic/citation_presence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Citation Presence
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/heuristic/latency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Latency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/heuristic/retrieval_metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Retrieval Metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../metric-registry/conversational/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Conversational
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Conversational
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../metric-registry/tool/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Tool
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tool
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../metric-registry/tool/tool_correctness/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tool Correctness
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Deep Dives
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deep Dives
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" checked>
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Metrics
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Creating Custom Metrics
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Creating Custom Metrics
  

    
  </span>
  
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Components
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basemetric-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        BaseMetric Class
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metric-decorator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metric Decorator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metric-categories" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metric Categories
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#field-mapping-for-nested-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Field Mapping for Nested Inputs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-simple-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Simple Metrics
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Simple Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-llm-powered-metric" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic LLM-Powered Metric
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algorithm-based-metric" class="md-nav__link">
    <span class="md-ellipsis">
      
        Algorithm-Based Metric
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registration-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Registration Methods
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Registration Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automatic-registration-with-decorator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automatic Registration with Decorator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-registration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual Registration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-custom-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using Custom Metrics
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metric-design" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metric Design
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Error Handling
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../yaml-metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    YAML-Based Metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../composite-metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Composite Metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Runners
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Runners
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../runners/metric-runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metric Runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../runners/evaluation-runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluation Runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../runners/api-runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Synthetic
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Synthetic
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../synthetic/document-qa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Document QA Generation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Search
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Search
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search/google/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Google Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search/tavily/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tavily Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../search/you/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    You.com Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Internals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Internals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/tracing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tracing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dataset
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Schema
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/runners/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runners
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/eval-tree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Eval Tree
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/issue-extractor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Issue Extractor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/synthetic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Synthetic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/llm-registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LLM Registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/tracer-registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tracer Registry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Components
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basemetric-class" class="md-nav__link">
    <span class="md-ellipsis">
      
        BaseMetric Class
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metric-decorator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metric Decorator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metric-categories" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metric Categories
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#field-mapping-for-nested-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Field Mapping for Nested Inputs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-simple-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Simple Metrics
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Simple Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-llm-powered-metric" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic LLM-Powered Metric
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algorithm-based-metric" class="md-nav__link">
    <span class="md-ellipsis">
      
        Algorithm-Based Metric
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registration-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Registration Methods
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Registration Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automatic-registration-with-decorator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automatic Registration with Decorator
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-registration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual Registration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-custom-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using Custom Metrics
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metric-design" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metric Design
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Error Handling
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="creating-custom-metrics">Creating Custom Metrics<a class="headerlink" href="#creating-custom-metrics" title="Permanent link">&para;</a></h1>
<p>Axion provides a flexible framework for creating custom evaluation metrics. You can build metrics that leverage LLMs, traditional algorithms, or hybrid approaches, all while maintaining consistency with the broader evaluation ecosystem.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Custom metrics in Axion inherit from <code>BaseMetric</code> and can be registered automatically using decorators or manually through the registry. The framework supports:</p>
<ul>
<li><strong>LLM-powered metrics</strong> using structured prompts and examples</li>
<li><strong>Algorithm-based metrics</strong> using traditional computation</li>
<li><strong>Hybrid metrics</strong> combining multiple evaluation approaches</li>
<li><strong>Complex multi-step metrics</strong> with intermediate processing</li>
</ul>
<h2 id="core-components">Core Components<a class="headerlink" href="#core-components" title="Permanent link">&para;</a></h2>
<h3 id="basemetric-class">BaseMetric Class<a class="headerlink" href="#basemetric-class" title="Permanent link">&para;</a></h3>
<p>All custom metrics inherit from <code>BaseMetric</code>, which provides:</p>
<ul>
<li><strong>LLM Integration</strong> - Built-in LLM handler with configurable models</li>
<li><strong>Structured I/O</strong> - Type-safe input/output with Pydantic models</li>
<li><strong>Execution Framework</strong> - Async execution with tracing and logging</li>
<li><strong>Configuration Management</strong> - Threshold and parameter handling</li>
<li><strong>Validation</strong> - Automatic field validation for dataset items</li>
</ul>
<h3 id="metric-decorator">Metric Decorator<a class="headerlink" href="#metric-decorator" title="Permanent link">&para;</a></h3>
<p>The <code>@metric</code> decorator provides declarative configuration:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@metric</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Human-readable metric name&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Detailed description of what the metric measures&quot;</span><span class="p">,</span>
    <span class="n">required_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;field1&quot;</span><span class="p">,</span> <span class="s2">&quot;field2&quot;</span><span class="p">],</span>
    <span class="n">optional_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;field3&quot;</span><span class="p">],</span>
    <span class="n">metric_category</span><span class="o">=</span><span class="n">MetricCategory</span><span class="o">.</span><span class="n">SCORE</span><span class="p">,</span>  <span class="c1"># SCORE, ANALYSIS, or CLASSIFICATION</span>
    <span class="n">default_threshold</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">score_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;category&quot;</span><span class="p">,</span> <span class="s2">&quot;domain&quot;</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="metric-categories">Metric Categories<a class="headerlink" href="#metric-categories" title="Permanent link">&para;</a></h3>
<p>Axion supports three metric categories based on output type. Use <code>MetricCategory</code> to specify what kind of output your metric produces.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">axion._core.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">MetricCategory</span>
</code></pre></div>
<h4 id="decision-tree">Decision Tree<a class="headerlink" href="#decision-tree" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>Does your metric produce a numeric score?
 YES  MetricCategory.SCORE
 NO  Does it output a SINGLE label from a FIXED set?
     YES  MetricCategory.CLASSIFICATION
     NO  MetricCategory.ANALYSIS
</code></pre></div>
<h4 id="category-comparison">Category Comparison<a class="headerlink" href="#category-comparison" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Aspect</th>
<th><code>SCORE</code></th>
<th><code>CLASSIFICATION</code></th>
<th><code>ANALYSIS</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Output</strong></td>
<td>Numeric value (0-1)</td>
<td>Single label</td>
<td>Structured object</td>
</tr>
<tr>
<td><strong>Options</strong></td>
<td>Continuous range</td>
<td>Fixed/predefined set</td>
<td>Open-ended insights</td>
</tr>
<tr>
<td><strong>Pass/Fail</strong></td>
<td>Yes (threshold-based)</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td><strong>Aggregation</strong></td>
<td>Average, percentile</td>
<td>Count by label</td>
<td>Custom</td>
</tr>
<tr>
<td><strong>Example output</strong></td>
<td><code>0.85</code></td>
<td><code>"Property Condition"</code></td>
<td><code>{ category, reasons[], citations[] }</code></td>
</tr>
</tbody>
</table>
<h4 id="when-to-use-each-category">When to Use Each Category<a class="headerlink" href="#when-to-use-each-category" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Category</th>
<th>Use When</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>SCORE</code></strong></td>
<td>Metric produces a numeric value that can be compared to a threshold</td>
<td><code>Faithfulness</code>, <code>AnswerRelevancy</code>, <code>Latency</code>, <code>acceptance_rate</code></td>
</tr>
<tr>
<td><strong><code>CLASSIFICATION</code></strong></td>
<td>Metric produces a single categorical label from a fixed set</td>
<td><code>SentimentClassification</code>  positive/negative/neutral</td>
</tr>
<tr>
<td><strong><code>ANALYSIS</code></strong></td>
<td>Metric extracts structured insights without scoring</td>
<td><code>ReferralReasonAnalysis</code>  reasons, citations, categories</td>
</tr>
</tbody>
</table>
<h4 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h4>
<p><strong>SCORE Metric</strong> (default):
<div class="highlight"><pre><span></span><code><span class="nd">@metric</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Answer Quality&quot;</span><span class="p">,</span>
    <span class="n">metric_category</span><span class="o">=</span><span class="n">MetricCategory</span><span class="o">.</span><span class="n">SCORE</span><span class="p">,</span>  <span class="c1"># Default, can be omitted</span>
    <span class="n">default_threshold</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
    <span class="n">score_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">AnswerQuality</span><span class="p">(</span><span class="n">BaseMetric</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MetricEvaluationResult</span><span class="p">:</span>
        <span class="n">score</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_evaluate</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MetricEvaluationResult</span><span class="p">(</span>
            <span class="n">score</span><span class="o">=</span><span class="n">score</span><span class="p">,</span>  <span class="c1"># Numeric score required</span>
            <span class="n">explanation</span><span class="o">=</span><span class="s2">&quot;Quality assessment complete&quot;</span>
        <span class="p">)</span>
</code></pre></div></p>
<p><strong>CLASSIFICATION Metric</strong>:
<div class="highlight"><pre><span></span><code><span class="nd">@metric</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Sentiment Classification&quot;</span><span class="p">,</span>
    <span class="n">metric_category</span><span class="o">=</span><span class="n">MetricCategory</span><span class="o">.</span><span class="n">CLASSIFICATION</span><span class="p">,</span>
    <span class="n">required_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;actual_output&quot;</span><span class="p">],</span>
    <span class="o">...</span>
<span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SentimentClassification</span><span class="p">(</span><span class="n">BaseMetric</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MetricEvaluationResult</span><span class="p">:</span>
        <span class="n">label</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_classify</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">actual_output</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MetricEvaluationResult</span><span class="p">(</span>
            <span class="n">score</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># No score for classification</span>
            <span class="n">explanation</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Classified as: </span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">signals</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">label</span><span class="p">}</span>  <span class="c1"># Single categorical output</span>
        <span class="p">)</span>
</code></pre></div></p>
<p><strong>ANALYSIS Metric</strong>:
<div class="highlight"><pre><span></span><code><span class="nd">@metric</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Referral Reason Analysis&quot;</span><span class="p">,</span>
    <span class="n">metric_category</span><span class="o">=</span><span class="n">MetricCategory</span><span class="o">.</span><span class="n">ANALYSIS</span><span class="p">,</span>
    <span class="n">required_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;actual_output&quot;</span><span class="p">],</span>
    <span class="o">...</span>
<span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ReferralReasonAnalysis</span><span class="p">(</span><span class="n">BaseMetric</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MetricEvaluationResult</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_analyze</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MetricEvaluationResult</span><span class="p">(</span>
            <span class="n">score</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># No score for analysis</span>
            <span class="n">explanation</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Extracted </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">reasons</span><span class="p">)</span><span class="si">}</span><span class="s2"> reasons&quot;</span><span class="p">,</span>
            <span class="n">signals</span><span class="o">=</span><span class="p">{</span>  <span class="c1"># Rich structured output</span>
                <span class="s2">&quot;primary_category&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">primary_category</span><span class="p">,</span>
                <span class="s2">&quot;all_reasons&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">reasons</span><span class="p">,</span>
                <span class="s2">&quot;citations&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">citations</span><span class="p">,</span>
                <span class="s2">&quot;actionable_type&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">actionable_type</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
</code></pre></div></p>
<h4 id="downstream-behavior">Downstream Behavior<a class="headerlink" href="#downstream-behavior" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Behavior</th>
<th><code>SCORE</code></th>
<th><code>CLASSIFICATION</code></th>
<th><code>ANALYSIS</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>score</code> field</td>
<td>Required numeric</td>
<td><code>None</code>  <code>np.nan</code></td>
<td><code>None</code>  <code>np.nan</code></td>
</tr>
<tr>
<td><code>passed</code> field</td>
<td><code>True</code>/<code>False</code> based on threshold</td>
<td><code>None</code></td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>threshold</code> field</td>
<td>Set from config</td>
<td><code>None</code></td>
<td><code>None</code></td>
</tr>
<tr>
<td>Summary reports</td>
<td>Included in averages</td>
<td>Excluded from averages</td>
<td>Excluded from averages</td>
</tr>
<tr>
<td>Metadata</td>
<td><code>metric_category: "score"</code></td>
<td><code>metric_category: "classification"</code></td>
<td><code>metric_category: "analysis"</code></td>
</tr>
</tbody>
</table>
<h3 id="field-mapping-for-nested-inputs">Field Mapping for Nested Inputs<a class="headerlink" href="#field-mapping-for-nested-inputs" title="Permanent link">&para;</a></h3>
<p>If your dataset stores canonical fields under different names or nested paths, you can
map them at runtime using <code>field_mapping</code>. Mapped fields are used for validation and
lookup, so required fields still pass when they are sourced from alternate locations.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">axion.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">AnswerCompleteness</span>

<span class="n">metric</span> <span class="o">=</span> <span class="n">AnswerCompleteness</span><span class="p">(</span>
    <span class="n">field_mapping</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;actual_output&quot;</span><span class="p">:</span> <span class="s2">&quot;additional_output.summary&quot;</span><span class="p">,</span>
        <span class="s2">&quot;expected_output&quot;</span><span class="p">:</span> <span class="s2">&quot;additional_input.reference&quot;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre></div>
<p>Paths use dot notation and traverse attributes or dict keys. For example, the mapping
above resolves <code>actual_output</code> from <code>item.additional_output["summary"]</code>.</p>
<h2 id="creating-simple-metrics">Creating Simple Metrics<a class="headerlink" href="#creating-simple-metrics" title="Permanent link">&para;</a></h2>
<h3 id="basic-llm-powered-metric">Basic LLM-Powered Metric<a class="headerlink" href="#basic-llm-powered-metric" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">axion.metrics.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseMetric</span><span class="p">,</span> <span class="n">MetricEvaluationResult</span><span class="p">,</span> <span class="n">metric</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">axion.dataset</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatasetItem</span>

<span class="nd">@metric</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Answer Quality&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Evaluates the overall quality of an answer based on clarity, completeness, and accuracy&quot;</span><span class="p">,</span>
    <span class="n">required_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;actual_output&quot;</span><span class="p">],</span>
    <span class="n">optional_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;expected_output&quot;</span><span class="p">,</span> <span class="s2">&quot;query&quot;</span><span class="p">],</span>
    <span class="n">default_threshold</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
    <span class="n">score_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;quality&quot;</span><span class="p">,</span> <span class="s2">&quot;general&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">AnswerQuality</span><span class="p">(</span><span class="n">BaseMetric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evaluates answer quality across multiple dimensions.&quot;&quot;&quot;</span>

    <span class="n">instruction</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Evaluate the quality of the given answer based on the following criteria:</span>
<span class="s2">    1. Clarity - Is the answer clear and easy to understand?</span>
<span class="s2">    2. Completeness - Does the answer fully address the question?</span>
<span class="s2">    3. Accuracy - Is the information provided correct?</span>
<span class="s2">    Provide a score from 0 to 1, where:</span>
<span class="s2">    ....</span>
<span class="s2">    Provide a brief explanation for your score.</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="n">examples</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span>
            <span class="n">DatasetItem</span><span class="p">(</span>
                <span class="n">query</span><span class="o">=</span><span class="s2">&quot;What is photosynthesis?&quot;</span><span class="p">,</span>
                <span class="n">actual_output</span><span class="o">=</span><span class="s2">&quot;Photosynthesis is the process by which plants convert sunlight, carbon dioxide, and water into glucose and oxygen. This process occurs in chloroplasts and is essential for plant survival and the oxygen we breathe.&quot;</span>
            <span class="p">),</span>
            <span class="n">MetricEvaluationResult</span><span class="p">(</span>
                <span class="n">score</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
                <span class="n">explanation</span><span class="o">=</span><span class="s2">&quot;Excellent answer that clearly explains photosynthesis, includes key components (sunlight, CO2, water, glucose, oxygen), mentions location (chloroplasts), and explains significance. Very clear and complete.&quot;</span>
            <span class="p">)</span>
        <span class="p">),</span>
        <span class="p">(</span>
            <span class="n">DatasetItem</span><span class="p">(</span>
                <span class="n">query</span><span class="o">=</span><span class="s2">&quot;How do you bake a cake?&quot;</span><span class="p">,</span>
                <span class="n">actual_output</span><span class="o">=</span><span class="s2">&quot;Mix ingredients and bake.&quot;</span>
            <span class="p">),</span>
            <span class="n">MetricEvaluationResult</span><span class="p">(</span>
                <span class="n">score</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
                <span class="n">explanation</span><span class="o">=</span><span class="s2">&quot;Poor answer that lacks detail and completeness. Doesn&#39;t specify ingredients, quantities, temperatures, or timing. Too vague to be useful for someone wanting to bake a cake.&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
<h3 id="algorithm-based-metric">Algorithm-Based Metric<a class="headerlink" href="#algorithm-based-metric" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Set</span>

<span class="nd">@metric</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Keyword Coverage&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Measures how many expected keywords appear in the actual output&quot;</span><span class="p">,</span>
    <span class="n">required_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;actual_output&quot;</span><span class="p">,</span> <span class="s2">&quot;expected_keywords&quot;</span><span class="p">],</span>
    <span class="n">default_threshold</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
    <span class="n">score_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;coverage&quot;</span><span class="p">,</span> <span class="s2">&quot;keywords&quot;</span><span class="p">,</span> <span class="s2">&quot;algorithmic&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">KeywordCoverage</span><span class="p">(</span><span class="n">BaseMetric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculates the percentage of expected keywords found in the output.&quot;&quot;&quot;</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">DatasetItem</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MetricEvaluationResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate keyword coverage score.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validate_required_metric_fields</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

        <span class="n">actual_output</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">actual_output</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">expected_keywords</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">expected_keywords</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expected_keywords</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">expected_keywords</span> <span class="o">=</span> <span class="p">[</span><span class="n">kw</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">kw</span> <span class="ow">in</span> <span class="n">expected_keywords</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>

        <span class="c1"># Find keywords in output</span>
        <span class="n">found_keywords</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">missing_keywords</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">expected_keywords</span><span class="p">:</span>
            <span class="n">keyword_lower</span> <span class="o">=</span> <span class="n">keyword</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">keyword_lower</span> <span class="ow">in</span> <span class="n">actual_output</span><span class="p">:</span>
                <span class="n">found_keywords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">keyword</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">missing_keywords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">keyword</span><span class="p">)</span>

        <span class="c1"># Calculate score</span>
        <span class="n">score</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">found_keywords</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">expected_keywords</span><span class="p">)</span> <span class="k">if</span> <span class="n">expected_keywords</span> <span class="k">else</span> <span class="mf">0.0</span>

        <span class="c1"># Generate explanation</span>
        <span class="n">explanation</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">found_keywords</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">expected_keywords</span><span class="p">)</span><span class="si">}</span><span class="s2"> expected keywords. &quot;</span>
        <span class="k">if</span> <span class="n">found_keywords</span><span class="p">:</span>
            <span class="n">explanation</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Found: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">found_keywords</span><span class="p">)</span><span class="si">}</span><span class="s2">. &quot;</span>
        <span class="k">if</span> <span class="n">missing_keywords</span><span class="p">:</span>
            <span class="n">explanation</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Missing: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">missing_keywords</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>

        <span class="k">return</span> <span class="n">MetricEvaluationResult</span><span class="p">(</span>
            <span class="n">score</span><span class="o">=</span><span class="n">score</span><span class="p">,</span>
            <span class="n">explanation</span><span class="o">=</span><span class="n">explanation</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="p">)</span>
</code></pre></div>
<h2 id="registration-methods">Registration Methods<a class="headerlink" href="#registration-methods" title="Permanent link">&para;</a></h2>
<h3 id="automatic-registration-with-decorator">Automatic Registration with Decorator<a class="headerlink" href="#automatic-registration-with-decorator" title="Permanent link">&para;</a></h3>
<p>The <code>@metric</code> decorator automatically registers metrics:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@metric</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Custom Metric&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Description of the metric&quot;</span><span class="p">,</span>
    <span class="n">required_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;field1&quot;</span><span class="p">,</span> <span class="s2">&quot;field2&quot;</span><span class="p">],</span>
    <span class="n">default_threshold</span><span class="o">=</span><span class="mf">0.5</span>
<span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CustomMetric</span><span class="p">(</span><span class="n">BaseMetric</span><span class="p">):</span>
    <span class="c1"># Metric implementation</span>
    <span class="k">pass</span>

<span class="c1"># Metric is automatically available in registry</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">axion.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">metric_registry</span>
<span class="n">metric_class</span> <span class="o">=</span> <span class="n">metric_registry</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;custom_metric&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="manual-registration">Manual Registration<a class="headerlink" href="#manual-registration" title="Permanent link">&para;</a></h3>
<p>For dynamic registration or when decorators aren't suitable:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">axion.metrics.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">MetricConfig</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">axion.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">metric_registry</span>

<span class="k">class</span><span class="w"> </span><span class="nc">DynamicMetric</span><span class="p">(</span><span class="n">BaseMetric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dynamically configured metric.&quot;&quot;&quot;</span>
    <span class="k">pass</span>

<span class="c1"># Create configuration</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">MetricConfig</span><span class="p">(</span>
    <span class="n">key</span><span class="o">=</span><span class="s2">&quot;dynamic_metric&quot;</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Dynamic Metric&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A dynamically registered metric&quot;</span><span class="p">,</span>
    <span class="n">required_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;actual_output&quot;</span><span class="p">],</span>
    <span class="n">optional_fields</span><span class="o">=</span><span class="p">[],</span>
    <span class="n">default_threshold</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
    <span class="n">score_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dynamic&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Attach config and register</span>
<span class="n">DynamicMetric</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
<span class="n">metric_registry</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">DynamicMetric</span><span class="p">)</span>
</code></pre></div>
<h2 id="usage-examples">Usage Examples<a class="headerlink" href="#usage-examples" title="Permanent link">&para;</a></h2>
<h3 id="using-custom-metrics">Using Custom Metrics<a class="headerlink" href="#using-custom-metrics" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">axion.dataset</span><span class="w"> </span><span class="kn">import</span> <span class="n">DatasetItem</span>

<span class="c1"># Initialize your custom metric</span>
<span class="n">metric</span> <span class="o">=</span> <span class="n">AnswerQuality</span><span class="p">()</span>

<span class="c1"># Prepare test data</span>
<span class="n">data_item</span> <span class="o">=</span> <span class="n">DatasetItem</span><span class="p">(</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;How do I reset my password?&quot;</span><span class="p">,</span>
    <span class="n">actual_output</span><span class="o">=</span><span class="s2">&quot;To reset your password, click &#39;Forgot Password&#39; on the login page and follow the email instructions.&quot;</span><span class="p">,</span>
    <span class="n">expected_output</span><span class="o">=</span><span class="s2">&quot;Navigate to login, click &#39;Forgot Password&#39;, and follow the reset link sent to your email.&quot;</span><span class="p">,</span>
    <span class="n">retrieved_content</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Password reset available via login page&quot;</span><span class="p">,</span> <span class="s2">&quot;Reset link sent by email&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Execute evaluation</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">metric</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">data_item</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Score: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">score</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Explanation: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">explanation</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Pretty print results</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">pretty</span><span class="p">())</span>
</code></pre></div>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="metric-design">Metric Design<a class="headerlink" href="#metric-design" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Single Responsibility</strong> - Each metric should evaluate one specific aspect</li>
<li><strong>Clear Scoring</strong> - Use consistent scoring scales and document ranges</li>
<li><strong>Robust Validation</strong> - Validate inputs thoroughly and provide helpful error messages</li>
<li><strong>Comprehensive Examples</strong> - Include diverse examples that cover edge cases</li>
</ul>
<h3 id="error-handling">Error Handling<a class="headerlink" href="#error-handling" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Graceful Degradation</strong> - Provide fallback scores when computation fails</li>
<li><strong>Informative Messages</strong> - Return helpful error messages and explanations</li>
<li><strong>Input Validation</strong> - Validate inputs early and provide clear requirements</li>
<li><strong>Logging</strong> - Use appropriate logging levels for debugging and monitoring</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 30, 2026 03:54:46 UTC">January 30, 2026</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 10, 2026 18:58:38 UTC">January 10, 2026</span>
  </span>

    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:mevanoff24@gmail.com">mevanoff24</a>
    </nav>
  </span>

    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "navigation.instant", "navigation.tracking", "navigation.top", "content.code.copy", "content.tabs.link", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    

      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
<script>
  // Collapsible TOC (right sidebar) functionality
  document.addEventListener('DOMContentLoaded', function() {
    // Create toggle button
    const toggleBtn = document.createElement('button');
    toggleBtn.className = 'toc-toggle';
    toggleBtn.setAttribute('aria-label', 'Toggle table of contents');
    toggleBtn.setAttribute('title', 'Toggle table of contents');
    toggleBtn.innerHTML = `
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
      </svg>
    `;
    document.body.appendChild(toggleBtn);

    // Check stored preference
    const isCollapsed = localStorage.getItem('axion-toc-collapsed') === 'true';
    if (isCollapsed) {
      document.body.classList.add('toc-collapsed');
    }

    // Toggle handler
    toggleBtn.addEventListener('click', function() {
      document.body.classList.toggle('toc-collapsed');
      const nowCollapsed = document.body.classList.contains('toc-collapsed');
      localStorage.setItem('axion-toc-collapsed', nowCollapsed);
    });
  });
</script>

  </body>
</html>